(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{527:function(t,s,a){"use strict";a.r(s);var n=a(1),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"ä½ å¯¹-react-fiber-æœ‰äº†è§£å—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½ å¯¹-react-fiber-æœ‰äº†è§£å—"}},[t._v("#")]),t._v(" ä½ å¯¹ react-fiber æœ‰äº†è§£å—ï¼Ÿ")]),t._v(" "),a("ol",[a("li",[t._v("å¯¹äº react åŸç†çš„äº†è§£ã€‚")]),t._v(" "),a("li",[t._v("å¯¹äºæ–°æŠ€æœ¯çš„æ•æ„Ÿç¨‹åº¦ï¼Œæ±‚çŸ¥æ¬²ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"ç›®çš„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç›®çš„"}},[t._v("#")]),t._v(" ç›®çš„")]),t._v(" "),a("ul",[a("li",[t._v("ä¸ºäº†ä½¿ react æ¸²æŸ“çš„è¿‡ç¨‹å¯ä»¥è¢«"),a("strong",[t._v("ä¸­æ–­")]),t._v("ï¼Œå¯ä»¥å°†æ§åˆ¶æƒäº¤è¿˜ç»™æµè§ˆå™¨ï¼Œå¯ä»¥è®©ä½ç»™"),a("strong",[t._v("é«˜ä¼˜å…ˆçº§çš„ä»»åŠ¡")]),t._v("ï¼Œæµè§ˆå™¨ç©ºé—²åå†æ¢å¤æ¸²æŸ“ã€‚")]),t._v(" "),a("li",[t._v("å¯¹äºè®¡ç®—é‡æ¯”è¾ƒå¤§çš„ js è®¡ç®—æˆ–è€… dom è®¡ç®—ï¼Œå°±ä¸ä¼šæ˜¾å¾—ç‰¹åˆ«çš„å¡é¡¿ï¼Œè€Œæ˜¯ä¸€å¸§ä¸€å¸§çš„æœ‰è§„å¾‹çš„æ‰§è¡Œä»»åŠ¡ã€‚")])]),t._v(" "),a("p",[t._v("ğŸŒ° ä¸­æ–­")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" tasks "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¤šä¸ªä»»åŠ¡ åŒæ­¥")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("task "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tasks"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("shift")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("execute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿™é‡Œæ‰§è¡Œexecuteéœ€è¦5ç§’å·¦å³æ—¶é—´")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])]),a("p",[t._v("è¿™ç§å°±ä¼šå­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œæ¯ä¸€ä¸ªä»»åŠ¡éƒ½éœ€è¦å¤§çº¦ 5 ç§’æ—¶é—´ï¼Œé‚£å°±ä¼šå¯¼è‡´é˜»å¡ã€‚\nå¦‚æœåœ¨æŸä¸ªä»»åŠ¡å¤„åœæ­¢å•¦ï¼Ÿ")]),t._v(" "),a("h3",{attrs:{id:"ä½¿ç”¨-generator-æ¨¡æ‹Ÿä¸­æ–­"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨-generator-æ¨¡æ‹Ÿä¸­æ–­"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Generator",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä½¿ç”¨ generator æ¨¡æ‹Ÿä¸­æ–­"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" tasks "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¤šä¸ªä»»åŠ¡ åŒæ­¥")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("task "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tasks"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("shift")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasHighPriorityTask")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("execute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("task"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿™é‡Œæ‰§è¡Œexecuteéœ€è¦5ç§’å·¦å³æ—¶é—´")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" iterator "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ¢å¤")]),t._v("\niterator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br")])]),a("p",[t._v("ä¸Šè¾¹çš„ä»£ç ç®€å•çš„å®ç°äº†ä¸­æ–­ä»»åŠ¡å¹¶å¯æ¢å¤ã€‚")]),t._v(" "),a("p",[a("strong",[t._v("ğŸ¤”Questionï¼š")]),t._v(" æ—¢ç„¶ generator æœ‰ç±»ä¼¼çš„åŠŸèƒ½ï¼Œä¸ºä»€ä¹ˆ react ä¸ç”¨ å•¦ï¼Ÿ")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("éœ€è¦ç”¨ generator å°†æ¶‰åŠåˆ°çš„æ‰€æœ‰çš„ä»£ç éƒ½åŒ…è£…æˆ generator * å½¢å¼ï¼Œéå¸¸éº»çƒ¦ï¼Œå·¥ä½œé‡æ¯”è¾ƒå¤§ã€‚")])]),t._v(" "),a("li",[a("p",[t._v("generator å†…éƒ¨æ˜¯æœ‰çŠ¶æ€çš„")])])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("doWork")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("doExpensiveWorkA")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// xçš„å€¼ä¾èµ–a")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" y "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("doExpensiveWorkA")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¾èµ–xçš„å€¼")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å‡è®¾doExpensiveWorkAä½œç”¨æ˜¯å°†ä¼ å…¥çš„å‚æ•°ç›¸åŠ åå¹¶è¿”å›ç»“æœã€‚")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" m "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" working "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("doWork")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("m"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nworking"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// x = m = 1")]),t._v("\n\nm "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å¦‚æœè¿™é‡Œæ”¹å˜äº†mï¼Œä½†æ˜¯xå·²ç»doneäº†ï¼Œæ‰€ä»¥æˆ‘ä»¬åªèƒ½æ²¿ç”¨æ—§çš„xå€¼ã€‚")]),t._v("\nworking"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// y = x + b = a + b = m + n;")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br")])]),a("h3",{attrs:{id:"å¦‚ä½•åˆ¤æ–­å½“å‰æ˜¯å¦æœ‰é«˜ä¼˜å…ˆçº§ä»»åŠ¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¦‚ä½•åˆ¤æ–­å½“å‰æ˜¯å¦æœ‰é«˜ä¼˜å…ˆçº§ä»»åŠ¡"}},[t._v("#")]),t._v(" å¦‚ä½•åˆ¤æ–­å½“å‰æ˜¯å¦æœ‰é«˜ä¼˜å…ˆçº§ä»»åŠ¡ï¼Ÿ")]),t._v(" "),a("p",[t._v("é¦–å…ˆæˆ‘ä»¬éœ€è¦æ˜ç™½çš„æ˜¯ï¼Œå½“å‰ js çš„ç¯å¢ƒå…¶å®å¹¶æ²¡æœ‰åŠæ³•å»åˆ¤æ–­æ˜¯å¦æœ‰é«˜ä¼˜ä»»åŠ¡ã€‚"),a("strong",[t._v("ğŸ¤”Questionï¼š")]),t._v(" é‚£ä½ ä¼šæ€ä¹ˆå®ç°æˆ–è€…æ¨¡æ‹Ÿä¸€ä¸ªå•¦ï¼Ÿ")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("åªèƒ½çº¦å®šä¸€ä¸ªåˆç†çš„æ‰§è¡Œæ—¶é—´ï¼Œå½“è¶…è¿‡è¿™ä¸ªæ‰§è¡Œæ—¶é—´ï¼Œå¦‚æœä»»åŠ¡ä»»ç„¶æ²¡æœ‰æ‰§è¡Œå®Œæˆï¼Œé‚£å°±ä¸­æ–­å½“å‰ä»»åŠ¡ï¼Œå°†æ§åˆ¶æƒäº¤è¿˜ç»™æµè§ˆå™¨ã€‚")]),t._v(" "),a("p",[t._v("æ™®éçš„æ˜¾ç¤ºå™¨éƒ½æ˜¯æ¯ç§’ 60 å¸§ï¼Œ"),a("strong",[t._v("1000ms / 60fps = 16ms")]),t._v("ã€‚å¤§æ¦‚å°±æ˜¯ä¸€å¸§çš„æ—¶é—´å¤§çº¦æ˜¯ 16 æ¯«ç§’ã€‚")])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Window/requestIdleCallback",target:"_blank",rel:"noopener noreferrer"}},[t._v("requestIdleCallback(callback[, options])"),a("OutboundLink")],1),t._v(" : callback å‡½æ•°å°†åœ¨"),a("strong",[t._v("æµè§ˆå™¨ç©ºé—²æ—¶æœŸ")]),t._v("è¢«è°ƒç”¨ã€‚")]),t._v(" "),a("p",[t._v("å¹¶ä¸” callback å‡½æ•°ä¼šæ¥æ”¶åˆ°ä¸€ä¸ªåä¸º IdleDeadline çš„å‚æ•°ï¼Œè¿™ä¸ªå‚æ•°å¯ä»¥è·å–å½“å‰ç©ºé—²æ—¶é—´ä»¥åŠå›è°ƒæ˜¯å¦åœ¨è¶…æ—¶æ—¶é—´å‰å·²ç»æ‰§è¡Œçš„çŠ¶æ€ã€‚")])]),t._v(" "),a("li",[a("p",[t._v("æµè§ˆå™¨åœ¨ä¸€å¸§å†…è¦åšä»€ä¹ˆäº‹æƒ…ï¼Ÿ")]),t._v(" "),a("ol",[a("li",[t._v("å¤„ç†ç”¨æˆ·è¾“å…¥äº‹ä»¶")]),t._v(" "),a("li",[t._v("JS çš„æ‰§è¡Œ")]),t._v(" "),a("li",[t._v("requestAnimation è°ƒç”¨")]),t._v(" "),a("li",[t._v("å¸ƒå±€ layout")]),t._v(" "),a("li",[t._v("ç»˜åˆ¶ paint")])]),t._v(" "),a("blockquote",[a("p",[t._v("16ms ä¸€å¸§æ—¶é—´å†…ï¼Œæµè§ˆå™¨å°±æ²¡æœ‰ç©ºé—²æ—¶é—´ï¼Œ\nå³ 0ms -> requestIdleCallback å°†æ²¡æœ‰æ—¶é—´è¢«è°ƒç”¨\né‚£ä¸€ç›´éƒ½æ²¡æœ‰ç©ºé—²æ—¶é—´å•¦ï¼Ÿ")])])]),t._v(" "),a("li",[a("p",[t._v("æµè§ˆå™¨å¾ˆå¿™æ€ä¹ˆåŠï¼Ÿï¼ˆç©ºé—²æ—¶é—´ä¸º 0ï¼‰")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Window/requestIdleCallback",target:"_blank",rel:"noopener noreferrer"}},[t._v("requestIdleCallback(callback[, options])"),a("OutboundLink")],1),t._v(" ç¬¬äºŒä¸ªå‚æ•° "),a("strong",[t._v("{ timeout: 100 }")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("requestIdleCallback")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("args")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("timeout")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å¦‚æœæŒ‡å®šäº†timeoutï¼Œå¹¶ä¸”æœ‰ä¸€ä¸ªæ­£å€¼ï¼Œè€Œå›è°ƒåœ¨timeoutæ¯«ç§’è¿‡åè¿˜æ²¡æœ‰è¢«è°ƒç”¨ï¼Œé‚£ä¹ˆå›è°ƒä»»åŠ¡å°†æ”¾å…¥äº‹ä»¶å¾ªç¯ä¸­æ’é˜Ÿï¼Œå³ä½¿è¿™æ ·åšæœ‰å¯èƒ½å¯¹æ€§èƒ½äº§ç”Ÿè´Ÿé¢å½±å“ã€‚")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])])])]),t._v(" "),a("blockquote",[a("blockquote",[a("blockquote",[a("p",[a("a",{attrs:{href:"https://caniuse.com/?search=requestIdleCallback",target:"_blank",rel:"noopener noreferrer"}},[t._v("requestIdelCallback çš„å…¼å®¹æ€§"),a("OutboundLink")],1),t._v(" å¾ˆå·®")])])])]),t._v(" "),a("h2",{attrs:{id:"è¯´è¯´-react-æ˜¯å¦‚ä½•å®ç°-requestidlecallback-çš„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¯´è¯´-react-æ˜¯å¦‚ä½•å®ç°-requestidlecallback-çš„"}},[t._v("#")]),t._v(" è¯´è¯´ react æ˜¯å¦‚ä½•å®ç° requestIdleCallback çš„ï¼Ÿ")]),t._v(" "),a("blockquote",[a("p",[t._v("é€šè¿‡ messageChannel æ¨¡æ‹Ÿå®ç°")])]),t._v(" "),a("h2",{attrs:{id:"react-ä¸­çš„ä»»åŠ¡ä¼˜å…ˆçº§"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#react-ä¸­çš„ä»»åŠ¡ä¼˜å…ˆçº§"}},[t._v("#")]),t._v(" react ä¸­çš„ä»»åŠ¡ä¼˜å…ˆçº§ï¼Ÿ")]),t._v(" "),a("p",[t._v("5 ä¸ªä¼˜å…ˆçº§ï¼š")]),t._v(" "),a("ol",[a("li",[a("strong",[t._v("Immediate")]),t._v(" æœ€é«˜ä¼˜å…ˆçº§ï¼Œè¿™ä¸ªä¼˜å…ˆçº§çš„ä»»åŠ¡åº”è¯¥é©¬ä¸Šè¢«æ‰§è¡Œï¼Œä¸”ä¸èƒ½ä¸­æ–­ï¼›")]),t._v(" "),a("li",[a("strong",[t._v("UserBlocking")]),t._v(" è¿™äº›ä»»åŠ¡ä¸€èˆ¬æ˜¯ç”¨æˆ·äº¤äº’çš„ç»“æœï¼Œéœ€è¦åŠæ—¶å¾—åˆ°åé¦ˆï¼›")]),t._v(" "),a("li",[a("strong",[t._v("Normal")]),t._v(" ä¸éœ€è¦ç”¨æˆ·ç«‹åˆ»èƒ½æ„Ÿå—åˆ°çš„å˜åŒ–ï¼Œæ¯”å¦‚ç½‘ç»œè¯·æ±‚ç­‰ï¼›")]),t._v(" "),a("li",[a("strong",[t._v("Low")]),t._v(" è¿™äº›ä»»åŠ¡å¯ä»¥è¢«å»¶åï¼Œä½†æ˜¯æœ€ç»ˆä¹Ÿéœ€è¦è¢«æ‰§è¡Œï¼›")]),t._v(" "),a("li",[a("strong",[t._v("Idle")]),t._v(" å¯ä»¥è¢«æ— é™æœŸå»¶åï¼Œæ¯”å¦‚ console")])]),t._v(" "),a("blockquote",[a("blockquote",[a("blockquote",[a("p",[t._v("åŒä¸€çº§åˆ«çš„ä»»åŠ¡ï¼Œå…ˆåé¡ºåº")])])])])])}),[],!1,null,null,null);s.default=e.exports}}]);